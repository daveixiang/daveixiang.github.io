<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Format ovs-ofctl dump-flows output | 項 思 偉 ~ Aal Izz Well!</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    <header>

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <nav>
    <ul>
      
      
      <li class="pull-left ">
        <a href="https://siweixiang.github.io//xin">項 思 偉 ~ aal izz well!</a>
      </li>
      
      
      <li class="pull-right ">
        <a href="/">~/筆記</a>
      </li>
      
      
      <li class="pull-right ">
        <a href="/categories/">~/分類</a>
      </li>
      
      
      <li class="pull-right ">
        <a href="/tags/">~/標籤</a>
      </li>
      

    </ul>
  </nav>
</header>

  </head>

  <body>
    <br/>

<div class="article-meta">
<h1><span class="title">Format ovs-ofctl dump-flows output</span></h1>

<h2 class="date">2017/06/06</h2>
<p class="terms">
  
  
  Categories: <a href="/categories/openvswitch">openvswitch</a> 
  
  
  
  Tags: <a href="/tags/openvswitch">openvswitch</a> <a href="/tags/tips">tips</a> 
  
  
</p>
</div>



<main>
<ul>
<li>Get the openflows of <em>br-int</em></li>
</ul>

<pre><code class="language-bash">ovs-ofctl dump-flows   br-int | \
sed -E -e '1d' \
-e 's/(hard_age|idle_age)=[0-9]*?, //g' \
-e 's/ actions/, actions/g' \
-e 's/, /\t/g' | \
awk '{print $3&quot;\t&quot;$6&quot;\t&quot;$7}' | sort -k1,1 -k2,2rV | column -t
</code></pre>

<p>and the output is:</p>

<pre><code class="language-text">table=0   priority=10,icmp6,in_port=10,icmp_type=136                                    actions=resubmit(,24)
table=0   priority=10,icmp6,in_port=2,icmp_type=136                                     actions=resubmit(,24)
table=0   priority=10,arp,in_port=10                                                    actions=resubmit(,24)
table=0   priority=10,arp,in_port=2                                                     actions=resubmit(,24)
table=0   priority=9,in_port=10                                                         actions=resubmit(,25)
table=0   priority=9,in_port=2                                                          actions=resubmit(,25)
table=0   priority=4,in_port=21,dl_src=fa:16:3f:94:12:48                                actions=resubmit(,2)
table=0   priority=4,in_port=21,dl_src=fa:16:3f:75:2c:e8                                actions=resubmit(,2)
table=0   priority=4,in_port=1,dl_src=fa:16:3f:94:12:48                                 actions=resubmit(,2)
table=0   priority=4,in_port=1,dl_src=fa:16:3f:75:2c:e8                                 actions=resubmit(,2)
table=0   priority=3,in_port=1,dl_vlan=1075                                             actions=mod_vlan_vid:1,NORMAL
table=0   priority=3,in_port=1,dl_vlan=1022                                             actions=mod_vlan_vid:5,NORMAL
table=0   priority=2,in_port=21                                                         actions=drop
table=0   priority=2,in_port=1                                                          actions=drop
table=0   priority=1                                                                    actions=NORMAL
table=0   priority=0                                                                    actions=NORMAL
table=1   priority=1                                                                    actions=drop
table=2   priority=4,dl_vlan=1075,dl_dst=fa:16:3e:c3:3d:00                              actions=strip_vlan,mod_dl_src:fa:16:3e:f7:8a:d4,output:2
table=2   priority=4,dl_vlan=1022,dl_dst=fa:16:3e:2f:0a:ff                              actions=strip_vlan,mod_dl_src:fa:16:3e:a3:75:2a,output:10
table=2   priority=1                                                                    actions=drop
table=23  priority=0                                                                    actions=drop
table=24  priority=2,icmp6,in_port=10,icmp_type=136,nd_target=fe80::f816:3eff:fe2f:aff  actions=NORMAL
table=24  priority=2,icmp6,in_port=2,icmp_type=136,nd_target=fe80::f816:3eff:fec3:3d00  actions=NORMAL
table=24  priority=2,arp,in_port=10,arp_spa=10.0.3.201                                  actions=resubmit(,25)
table=24  priority=2,arp,in_port=2,arp_spa=10.0.4.204                                   actions=resubmit(,25)
table=24  priority=0                                                                    actions=drop
table=25  priority=2,in_port=10,dl_src=fa:16:3e:2f:0a:ff                                actions=NORMAL
table=25  priority=2,in_port=2,dl_src=fa:16:3e:c3:3d:00                                 actions=NORMAL
</code></pre>

</main>

    <footer>
      
<script async src="//yihui.name/js/center-img.js"></script>

      
      <hr/>
      &copy; [項思偉] 2017 | <a href="https://github.com/siweixiang">Github</a>
      
    </footer>
  </body>
</html>

